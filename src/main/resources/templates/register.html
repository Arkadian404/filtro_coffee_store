<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/user_layout :: layout (~{::content}, ~{::head_additional})}">
<head>
    <th:block th:fragment="head_additional">
    </th:block>
</head>
<body>
<th:block th:fragment="content">
    <div class="container">
        <div class="row mt-5 justify-content-center">
            <div class="col-6">
                <form method="post" th:action="@{/register}">
                    <div id="successMessage" th:if="${message}" class="alert alert-success" role="alert"
                         th:text="${message}">
                    </div>
                    <div id="errorMessage" th:if="${errorMessage}" class="alert alert-danger" role="alert"
                         th:text="${errorMessage}">
                    </div>
                    <th:block th:if="${errorMessages!=null}"
                              th:each="err : ${errorMessages}">
                        <div id="errorMessages" th:if="${err}" class="alert alert-danger" role="alert"
                             th:text="${err}">
                        </div>
                    </th:block>
                    <div class="text-center mb-3">
                        <h2>ĐĂNG KÝ</h2>
                    </div>


                    <div class="form-outline mb-4">
                        <label class="form-label" for="registerUsername">Họ và tên</label>
                        <input name="userName" type="text" id="registerUsername" class="form-control" required/>
                    </div>

                    <!-- Name input -->
                    <div class="form-outline mb-4">
                        <label class="form-label" for="registerName">Tên tài khoản</label>
                        <input name="accountName" type="text" id="registerName" class="form-control" required/>
                    </div>

                    <!-- Username input -->


                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <label class="form-label" for="registerEmail">Email</label>
                        <input name="email" type="email" id="registerEmail" class="form-control" required/>
                    </div>

                    <!-- Password input -->

                    <div class="form-outline mb-4">
                        <label class="form-label" for="password">Mật khẩu</label>
                        <div class="position-relative">
                            <input name="password" type="password" id="password" class="form-control" required/>
                            <i class="far fa-eye" id="togglePassword"
                               style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>
                        </div>
                    </div>

                    <!-- Repeat Password input -->
                    <div class="form-outline mb-4">
                        <label class="form-label" for="registerRepeatPassword">Nhập lại mật khẩu</label>
                        <input name="repeatPassword" type="password" id="registerRepeatPassword" class="form-control"
                               required/>
                    </div>

                    <!-- Submit button -->
                    <button type="submit" class="btn btn-primary btn-block mb-3">Đăng ký</button>

                    <hr>
                    <div class="row">
                        <div class="col">
                            <div class="text-center">
                                <p>Đã có tài khoản? <a th:href="@{/login}">Đăng nhập ngay!</a></p>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <!--                    <input type="hidden" name="csrfToken" th:value="${session.csrfToken}">-->
                    <input type="hidden" name="_csrfParameterName" th:value="${_csrfToken}">
                </form>
            </div>
        </div>

    </div>
    <script src="/javascript/utils.js" th:src="@{/javascript/utils.js}"></script>
</th:block>
</body>
</html>